'use strict';

var core = require('./core.cjs');
var globalAppender = require('./global-appender.cjs');

if (!globalAppender.appender()) {
    const { asciiPrefixes, colors, unicodePrefixes, tagFactory } = require('./default-formatting.cjs');
    const { createConsoleAppender } = require('./console-appender.cjs');
    const { createFormatter, terminalSupportsUnicode } = require('./format-utils.cjs');
    const { filterMessages } = require('./appender-utils.cjs');
    const formatter = createFormatter(colors, terminalSupportsUnicode() ? unicodePrefixes : asciiPrefixes, tagFactory);
    let minLogLevel = 1 /* LogLevel.info */;
    globalAppender.appender(filterMessages((message) => message.loglevel >= minLogLevel, createConsoleAppender(formatter), // eslint-disable-line indent
    { setMinLevel(logLevel) { minLogLevel = logLevel; } } // eslint-disable-line indent
    ));
}

exports.createLogger = core.createLogger;
exports.appender = globalAppender.appender;
