import { globalAppender } from './global-appender.mjs';

const createLogger = (tag) => {
    let myAppender = (message) => { globalAppender && globalAppender(message); };
    return Object.assign((message, loglevel = 1 /* LogLevel.info */, context) => {
        myAppender && myAppender({
            action: 3 /* Action.log */,
            message,
            loglevel,
            tag,
            context
        });
    }, {
        appender(appender) {
            if (appender !== undefined) {
                myAppender = appender;
            }
            return myAppender;
        }
    });
};

export { createLogger };
